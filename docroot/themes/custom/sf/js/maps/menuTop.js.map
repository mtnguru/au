{"version":3,"sources":["menuTop.js"],"names":["$","Drupal","menuTopC","resizeWindow","$moreLinks","length","windowWidth","window","width","moreLeftSideToPageLeftSide","offset","left","moreLeftSideToPageRightSide","removeClass","addClass","$navMenu","$menuToggle","init","resize","unbind","hover","this","hasClass","find","slideUp","each","slideDown","click","on","e","preventDefault","behaviors","menuTop","attach","context","settings","once","dyslexia","localStorage","getItem","prop","ev","is","setItem","jQuery"],"mappings":"CAOC,SAAUA,GACT,YAEAC,QAAOC,SAAW,WAKhB,QAASC,KACP,GAAIC,EAAWC,OAAS,EAAG,CACzB,GAAIC,GAAcN,EAAEO,QAAQC,QACxBC,EAA6BL,EAAWM,SAASC,KACjDC,EAA8BN,EAAcG,CAE5CG,GAA8B,MAChCZ,EAAE,yCAAyCa,YAAY,iBACvDb,EAAE,yCAAyCc,SAAS,iBAGlDF,EAA8B,MAChCZ,EAAE,yCAAyCa,YAAY,gBACvDb,EAAE,yCAAyCc,SAAS,mBAjB1D,GAAIC,GAAWf,EAAE,uBACbgB,EAAchB,EAAE,mBAChBI,EAAaJ,EAAE,uBAoBfiB,EAAO,WACTd,IAEAH,EAAEO,QAAQW,OAAO,WACff,MAGFY,EAASF,YAAY,QACrBG,EAAYG,SAQZf,EAAWgB,MAAM,WACXpB,EAAEqB,MAAMC,SAAS,aACnBtB,EAAEqB,MAAMR,YAAY,aAAaU,KAAK,YAAYC,WAElDpB,EAAWqB,KAAK,WACVzB,EAAEqB,MAAMC,SAAS,cACnBtB,EAAEqB,MAAMR,YAAY,aAAaU,KAAK,YAAYC,YAGtDxB,EAAEqB,MAAMP,SAAS,aAAaS,KAAK,YAAYG,eAGnDtB,EAAWuB,MAAM,WACX3B,EAAEqB,MAAMC,SAAS,aACnBtB,EAAEqB,MAAMR,YAAY,aAAaU,KAAK,YAAYC,WAElDpB,EAAWqB,KAAK,WACVzB,EAAEqB,MAAMC,SAAS,cACnBtB,EAAEqB,MAAMR,YAAY,aAAaU,KAAK,YAAYC,YAGtDxB,EAAEqB,MAAMP,SAAS,aAAaS,KAAK,YAAYG,eAInDV,EAAYY,GAAG,QAAS,SAAUC,GAChCA,EAAEC,iBACEf,EAASO,SAAS,YACpBP,EAASS,UAAUX,YAAY,YAE/BE,EAASW,YAAYZ,SAAS,cAKpC,QACEG,KAAMA,IAKVhB,OAAO8B,UAAUC,SACfC,OAAQ,SAAUC,EAASC,GACzBnC,EAAEkC,GAASX,KAAK,gBAAgBa,KAAK,mBAAmBX,KAAK,WACtDxB,OAAO+B,UACV/B,OAAO+B,QAAU/B,OAAOC,YAE1BD,OAAO+B,QAAQf,KAAKI,QAGtBrB,EAAEkC,GAASX,KAAK,oBAAoBa,KAAK,qBAAqBX,KAAK,WACjE,GAAIY,GAAWC,aAAaC,QAAQ,gBAChCF,IAAwB,aAAZA,GAAuC,QAAZA,IACzCrC,EAAE,QAAQc,SAAS,YACnBd,EAAEqB,MAAMmB,KAAK,WAAW,IAG1BxC,EAAEqB,MAAMM,MAAM,SAASc,GACjBzC,EAAEqB,MAAMqB,GAAG,aACb1C,EAAE,QAAQc,SAAS,YACnBwB,aAAaK,QAAQ,gBAAiB,UAEtC3C,EAAE,QAAQa,YAAY,YACtByB,aAAaK,QAAQ,gBAAiB,iBAOhDC","file":"../menuTop.js","sourcesContent":["/**\n * @file\n * Ethereal Matters - Top Navigation Menu bar\n *\n * @type {{attach: Drupal.behaviors.menu_top.attach}}\n */\n\n(function ($) {\n  'use strict';\n\n  Drupal.menuTopC = function () {\n    var $navMenu = $('#js-navigation-menu');\n    var $menuToggle = $('#js-mobile-menu');\n    var $moreLinks = $('.js-navigation-more');\n\n    function resizeWindow() {\n      if ($moreLinks.length > 0) {\n        var windowWidth = $(window).width();\n        var moreLeftSideToPageLeftSide = $moreLinks.offset().left;\n        var moreLeftSideToPageRightSide = windowWidth - moreLeftSideToPageLeftSide;\n\n        if (moreLeftSideToPageRightSide < 330) {\n          $(\".js-navigation-more .submenu .submenu\").removeClass(\"fly-out-right\");\n          $(\".js-navigation-more .submenu .submenu\").addClass(\"fly-out-left\");\n        }\n\n        if (moreLeftSideToPageRightSide > 330) {\n          $(\".js-navigation-more .submenu .submenu\").removeClass(\"fly-out-left\");\n          $(\".js-navigation-more .submenu .submenu\").addClass(\"fly-out-right\");\n        }\n      }\n    }\n\n    var init = function init() {\n      resizeWindow();\n\n      $(window).resize(function () {\n        resizeWindow();\n      });\n\n      $navMenu.removeClass(\"show\");\n      $menuToggle.unbind();\n\n/*    $moreLinks.hover(function() {\n        $(this).addClass('menu-open').find('.submenu').slideDown();\n      }, function() {\n        $(this).removeClass('menu-open').find('.submenu').slideUp();\n      }); */\n\n      $moreLinks.hover(function() {\n        if ($(this).hasClass('menu-open')) {\n          $(this).removeClass('menu-open').find('.submenu').slideUp();\n        } else {\n          $moreLinks.each(function() {\n            if ($(this).hasClass('menu-open')) {\n              $(this).removeClass('menu-open').find('.submenu').slideUp();\n            }\n          });\n          $(this).addClass('menu-open').find('.submenu').slideDown();\n        }\n      });\n      $moreLinks.click(function() {\n        if ($(this).hasClass('menu-open')) {\n          $(this).removeClass('menu-open').find('.submenu').slideUp();\n        } else {\n          $moreLinks.each(function() {\n            if ($(this).hasClass('menu-open')) {\n              $(this).removeClass('menu-open').find('.submenu').slideUp();\n            }\n          });\n          $(this).addClass('menu-open').find('.submenu').slideDown();\n        }\n      });\n\n      $menuToggle.on(\"click\", function (e) {\n        e.preventDefault();\n        if ($navMenu.hasClass('nav-open')) {\n          $navMenu.slideUp().removeClass('nav-open');\n        } else {\n          $navMenu.slideDown().addClass('nav-open');\n        }\n      });\n    };\n\n    return {\n      init: init\n    };\n  }; // function Drupal.menuTopC - function wrapper to make variables local.\n\n\n  Drupal.behaviors.menuTop = {\n    attach: function (context, settings) {\n      $(context).find('#site-header').once('menuTopAttached').each(function () {\n        if (!Drupal.menuTop) {\n          Drupal.menuTop = Drupal.menuTopC();\n        }\n        Drupal.menuTop.init(this);\n      });\n\n      $(context).find('#dyslexia-button').once('dyslexia-attached').each(function () {\n        var dyslexia = localStorage.getItem('dyslexia_font');\n        if (dyslexia && dyslexia != 'undefined' && dyslexia == 'TRUE') {\n          $('body').addClass('dyslexia');\n          $(this).prop('checked', true);\n        }\n\n        $(this).click(function(ev) {\n          if ($(this).is(\":checked\")) {\n            $('body').addClass('dyslexia');\n            localStorage.setItem('dyslexia_font', 'TRUE');\n          } else {\n            $('body').removeClass('dyslexia');\n            localStorage.setItem('dyslexia_font', 'FALSE');\n          }\n        });\n      });\n    }\n  };\n\n}(jQuery));\n\n"]}